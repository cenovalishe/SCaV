/**
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * FILE MANIFEST: components/CharacterTab.tsx
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * PURPOSE: Ğ’ĞºĞ»Ğ°Ğ´ĞºĞ° Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ° - Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚Ğ¾Ğ² Ğ¸ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ°
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ EXPORTS OVERVIEW                                                            â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ DEFAULT EXPORT:                                                             â”‚
 * â”‚   CharacterTab        - React ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°                  â”‚
 * â”‚                                                                             â”‚
 * â”‚ PROPS (CharacterTabProps):                                                  â”‚
 * â”‚   stats               - CharacterStats - Ğ²ÑĞµ Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°      â”‚
 * â”‚   playerName          - string - Ğ¸Ğ¼Ñ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ° Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ                â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ DEPENDENCY GRAPH                                                            â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚ IMPORTS FROM:                                                               â”‚
 * â”‚   @/lib/types â†’ CharacterStats                                             â”‚
 * â”‚                                                                             â”‚
 * â”‚ IMPORTED BY:                                                                â”‚
 * â”‚   ./TabbedPanel.tsx â†’ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ ĞºĞ°Ğº ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ¸ "ĞŸĞ•Ğ Ğ¡ĞĞĞĞ–"       â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 * â”‚ UI STRUCTURE                                                                â”‚
 * â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 * â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
 * â”‚   â”‚ ĞŸĞ•Ğ Ğ¡ĞĞĞĞ–                            â”‚ â† Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº                      â”‚
 * â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                  â”‚
 * â”‚   â”‚  â”Œâ”€â”€â”€â”  Ğ”Ğ˜ĞšĞ˜Ğ™                       â”‚                                  â”‚
 * â”‚   â”‚  â”‚ o â”‚  {playerName}                â”‚ â† Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€ + Ğ¸Ğ¼Ñ                   â”‚
 * â”‚   â”‚  â”‚/|\â”‚                              â”‚                                  â”‚
 * â”‚   â”‚  â”‚/ \â”‚                              â”‚                                  â”‚
 * â”‚   â”‚  â””â”€â”€â”€â”˜                              â”‚                                  â”‚
 * â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                  â”‚
 * â”‚   â”‚ Ğ¥ĞĞ ĞĞšĞ¢Ğ•Ğ Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ˜                      â”‚                                  â”‚
 * â”‚   â”‚ âš”ï¸ ĞĞ¢ĞĞšĞ      5                     â”‚                                  â”‚
 * â”‚   â”‚ ğŸ›¡ï¸ Ğ—ĞĞ©Ğ˜Ğ¢Ğ     3                     â”‚                                  â”‚
 * â”‚   â”‚ ğŸ’¨ Ğ¡ĞšĞĞ ĞĞ¡Ğ¢Ğ¬   4                     â”‚                                  â”‚
 * â”‚   â”‚ ğŸ‘ï¸ Ğ¡ĞšĞ Ğ«Ğ¢ĞĞĞ¡Ğ¢Ğ¬ 2                     â”‚                                  â”‚
 * â”‚   â”‚ ğŸ€ Ğ£Ğ”ĞĞ§Ğ      1                     â”‚                                  â”‚
 * â”‚   â”‚ ğŸ’ Ğ’ĞœĞ•Ğ¡Ğ¢Ğ˜ĞœĞĞ¡Ğ¢Ğ¬ 15                   â”‚                                  â”‚
 * â”‚   â”‚ â¤ï¸ Ğ¥ĞŸ         [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€] 80/100   â”‚ â† Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ±Ğ°Ñ€                   â”‚
 * â”‚   â”‚ âš¡ Ğ’Ğ«ĞĞĞ¡Ğ›Ğ˜Ğ’ĞĞ¡Ğ¢Ğ¬ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”€â”€â”€â”€] 6/10    â”‚ â† Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ-Ğ±Ğ°Ñ€                   â”‚
 * â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
 * â”‚                                                                             â”‚
 * â”‚ STAT_LABELS: Ğ›Ğ¾ĞºĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ ÑÑ‚Ğ°Ñ‚Ğ¾Ğ² Ñ Ğ¸ĞºĞ¾Ğ½ĞºĞ°Ğ¼Ğ¸                     â”‚
 * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 *
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

'use client'

import { CharacterStats } from '@/lib/types';

interface CharacterTabProps {
  stats: CharacterStats;
  playerName: string;
}

// ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸Ğº
const STAT_LABELS: Record<keyof Omit<CharacterStats, 'maxHp' | 'maxStamina'>, { ru: string; icon: string }> = {
  attack: { ru: 'ĞĞ¢ĞĞšĞ', icon: 'âš”ï¸' },
  defense: { ru: 'Ğ—ĞĞ©Ğ˜Ğ¢Ğ', icon: 'ğŸ›¡ï¸' },
  speed: { ru: 'Ğ¡ĞšĞĞ ĞĞ¡Ğ¢Ğ¬', icon: 'ğŸ’¨' },
  stealth: { ru: 'Ğ¡ĞšĞ Ğ«Ğ¢ĞĞĞ¡Ğ¢Ğ¬', icon: 'ğŸ‘ï¸' },
  luck: { ru: 'Ğ£Ğ”ĞĞ§Ğ', icon: 'ğŸ€' },
  capacity: { ru: 'Ğ’ĞœĞ•Ğ¡Ğ¢Ğ˜ĞœĞĞ¡Ğ¢Ğ¬', icon: 'ğŸ’' },
  hp: { ru: 'Ğ¥ĞŸ', icon: 'â¤ï¸' },
  stamina: { ru: 'Ğ’Ğ«ĞĞĞ¡Ğ›Ğ˜Ğ’ĞĞ¡Ğ¢Ğ¬', icon: 'âš¡' }
};

export default function CharacterTab({ stats, playerName }: CharacterTabProps) {
  const statsToShow: (keyof CharacterStats)[] = [
    'attack', 'defense', 'speed', 'stealth', 'luck', 'capacity', 'hp', 'stamina'
  ];

  return (
    <div className="h-full flex flex-col">
      {/* Ğ—Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº */}
      <div className="border-b border-white/20 pb-2 mb-3">
        <h3 className="text-white font-mono text-sm tracking-wider">ĞŸĞ•Ğ Ğ¡ĞĞĞĞ–</h3>
      </div>

      {/* ĞĞ²Ğ°Ñ‚Ğ°Ñ€ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ° */}
      <div className="flex items-center gap-4 mb-4">
        <div className="w-16 h-20 border border-white/30 flex items-center justify-center bg-black/50">
          {/* ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ñ„Ğ¸Ğ³ÑƒÑ€ĞºĞ° Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ° Ğ¸Ğ· SVG */}
          <svg viewBox="0 0 40 60" className="w-12 h-16">
            {/* Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ° */}
            <circle cx="20" cy="10" r="8" fill="none" stroke="white" strokeWidth="1" />
            {/* Ğ¢ĞµĞ»Ğ¾ */}
            <line x1="20" y1="18" x2="20" y2="40" stroke="white" strokeWidth="1" />
            {/* Ğ ÑƒĞºĞ¸ */}
            <line x1="20" y1="25" x2="8" y2="35" stroke="white" strokeWidth="1" />
            <line x1="20" y1="25" x2="32" y2="35" stroke="white" strokeWidth="1" />
            {/* ĞĞ¾Ğ³Ğ¸ */}
            <line x1="20" y1="40" x2="10" y2="55" stroke="white" strokeWidth="1" />
            <line x1="20" y1="40" x2="30" y2="55" stroke="white" strokeWidth="1" />
          </svg>
        </div>
        <div className="flex-1">
          <div className="text-white/60 text-xs font-mono mb-1">Ğ”Ğ˜ĞšĞ˜Ğ™</div>
          <div className="text-white font-mono text-sm truncate">{playerName || 'Ğ˜Ğ“Ğ ĞĞš'}</div>
        </div>
      </div>

      {/* Ğ¥Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ */}
      <div className="border-l border-white/20 pl-3 flex-1">
        <div className="text-white/60 text-xs font-mono mb-2 tracking-wider">Ğ¥ĞĞ ĞĞšĞ¢Ğ•Ğ Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ˜</div>
        <div className="space-y-1.5">
          {statsToShow.map((statKey) => {
            const label = STAT_LABELS[statKey as keyof typeof STAT_LABELS];
            if (!label) return null;

            const value = stats[statKey];
            const maxValue = statKey === 'hp' ? stats.maxHp :
                           statKey === 'stamina' ? stats.maxStamina : 10;
            const isHpOrStamina = statKey === 'hp' || statKey === 'stamina';

            return (
              <div key={statKey} className="flex items-center gap-2">
                <span className="text-xs w-4">{label.icon}</span>
                <span className="text-white/80 text-xs font-mono w-28 uppercase">
                  {label.ru}
                </span>
                {isHpOrStamina ? (
                  <div className="flex-1 flex items-center gap-2">
                    <div className="flex-1 h-2 bg-black/50 border border-white/20 overflow-hidden">
                      <div
                        className={`h-full transition-all duration-300 ${
                          statKey === 'hp' ? 'bg-red-600' : 'bg-yellow-500'
                        }`}
                        style={{ width: `${(value / maxValue) * 100}%` }}
                      />
                    </div>
                    <span className="text-white/60 text-xs font-mono w-12 text-right">
                      {value}/{maxValue}
                    </span>
                  </div>
                ) : (
                  <span className="text-white font-mono text-xs">
                    {value}
                  </span>
                )}
              </div>
            );
          })}
        </div>
      </div>
    </div>
  );
}
